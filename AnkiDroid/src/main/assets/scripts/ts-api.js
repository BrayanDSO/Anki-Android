var AnkiDroidJs=function(u){"use strict";var b=Object.defineProperty;var m=(u,i,n)=>i in u?b(u,i,{enumerable:!0,configurable:!0,writable:!0,value:n}):u[i]=n;var s=(u,i,n)=>m(u,typeof i!="symbol"?i+"":i,n);class i{constructor(r){this.contract=r}async request(r,e){const t=`/jsapi/${r}`,o=await fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:this.contract.version,developer:this.contract.developer,data:e})});if(!o.ok)throw new Error(`Request failed with status ${o.status}`);const w=await o.text();return JSON.parse(w)}}class n{constructor(r){this.handler=r}async request(r,e){return this.handler.request(`${this.base}/${r}`,e)}}class c extends n{constructor(){super(...arguments);s(this,"base","android")}isSystemInDarkMode(){return this.request("is-system-in-dark-mode")}isNetworkMetered(){return this.request("is-network-metered")}}class h extends n{constructor(e,t=null){super(e);s(this,"base","card");s(this,"id");if(t!==null&&(!Number.isInteger(t)||t<0))throw new Error("Card ID must be a positive integer.");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}getFlag(){return this.request("get-flag")}getReps(){return this.request("get-reps")}getInterval(){return this.request("get-interval")}getFactor(){return this.request("get-factor")}getMod(){return this.request("get-mod")}getNid(){return this.request("get-nid")}getType(){return this.request("get-type")}getDid(){return this.request("get-did")}getLeft(){return this.request("get-left")}getODid(){return this.request("get-o-did")}getODue(){return this.request("get-o-due")}getQueue(){return this.request("get-queue")}getLapses(){return this.request("get-lapses")}getDue(){return this.request("get-due")}isMarked(){return this.request("is-marked")}bury(){return this.request("bury")}suspend(){return this.request("suspend")}resetProgress(){return this.request("reset-progress")}toggleFlag(e){return e<0||e>7?Promise.resolve({success:!1,error:"Flag must be an integer between 0 and 7."}):this.request("toggle-flag",{flag:e})}async request(e,t){return super.request(e,{id:this.id,data:t})}}class d extends n{constructor(e,t=null){super(e);s(this,"base","deck");s(this,"id");if(t!==null&&(!Number.isInteger(t)||t<0))throw new Error("Deck ID must be a positive integer.");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}getName(){return this.request("get-name")}isFiltered(){return this.request("is-filtered")}async request(e,t){return super.request(e,{id:this.id,data:t})}}class g extends n{constructor(e,t=null){super(e);s(this,"base","note");s(this,"id");if(t!==null&&(!Number.isInteger(t)||t<0))throw new Error("Note ID must be a positive integer.");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}bury(){return this.request("bury")}suspend(){return this.request("suspend")}getTags(){return this.request("get-tags")}setTags(e){return this.request("set-tags",{tags:e})}toggleMark(){return this.request("toggle-mark")}async request(e,t){return super.request(e,{id:this.id,data:t})}}class l extends n{constructor(){super(...arguments);s(this,"base","tts")}speak(e,t){return t!==0&&t!==1?Promise.resolve({success:!1,error:"Invalid queue mode."}):this.request("speak",{text:e,queueMode:t})}setLanguage(e){return this.request("set-language",{locale:e})}setPitch(e){return this.request("set-pitch",{pitch:e})}setSpeechRate(e){return this.request("set-speech-rate",{speechRate:e})}isSpeaking(){return this.request("is-speaking")}stop(){return this.request("stop")}}class q extends n{constructor(){super(...arguments);s(this,"base","study-screen")}showSnackbar(e,t){return this.request("show-snackbar",{text:e,duration:t})}getNewCount(){return this.request("get-new-count")}getLearningCount(){return this.request("get-learning-count")}getToReviewCount(){return this.request("get-to-review-count")}showAnswer(){return this.request("show-answer")}isShowingAnswer(){return this.request("is-showing-answer")}getNextTime(e){return this.request("get-next-time",{rating:e})}openCardInfo(e){return this.request("open-card-info",{cardId:e})}openNoteEditor(e){return this.request("open-note-editor",{cardId:e})}search(e){return this.request("search",{query:e})}setBackgroundColor(e){return this.request("set-background-color",{colorHex:e})}setStatusBarColor(e){return this.request("set-status-bar-color",{colorHex:e})}answer(e){return this.request("answer",{rating:e})}undo(){return this.request("undo")}deleteNote(){return this.request("delete-note")}}class p{constructor(r){s(this,"handler");s(this,"android");s(this,"card");s(this,"note");s(this,"deck");s(this,"studyScreen");s(this,"tts");this.handler=new i(r),this.android=new c(this.handler),this.card=new h(this.handler),this.note=new g(this.handler),this.deck=new d(this.handler),this.studyScreen=new q(this.handler),this.tts=new l(this.handler)}getCard(r){return new h(this.handler,r)}getNote(r){return new g(this.handler,r)}getDeck(r){return new d(this.handler,r)}}return u.Api=p,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
