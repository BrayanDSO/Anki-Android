var AnkiDroidJs=function(n){"use strict";var y=Object.defineProperty;var k=(n,u,o)=>u in n?y(n,u,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[u]=o;var s=(n,u,o)=>k(n,typeof u!="symbol"?u+"":u,o);class u{constructor(r){this.handler=r}async request(r,e){return this.handler.request(`${this.base}/${r}`,e)}}class o extends u{constructor(){super(...arguments);s(this,"base","android")}isSystemInDarkMode(){return this.request("is-system-in-dark-mode")}isNetworkMetered(){return this.request("is-network-metered")}}class h extends u{constructor(e,t=null){super(e);s(this,"base","card");s(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}getFlag(){return this.request("get-flag")}getReps(){return this.request("get-reps")}getInterval(){return this.request("get-interval")}getFactor(){return this.request("get-factor")}getMod(){return this.request("get-mod")}getNid(){return this.request("get-nid")}getType(){return this.request("get-type")}getDid(){return this.request("get-did")}getLeft(){return this.request("get-left")}getODid(){return this.request("get-o-did")}getODue(){return this.request("get-o-due")}getQueue(){return this.request("get-queue")}getLapses(){return this.request("get-lapses")}getDue(){return this.request("get-due")}isMarked(){return this.request("is-marked")}bury(){return this.request("bury")}suspend(){return this.request("suspend")}resetProgress(){return this.request("reset-progress")}toggleFlag(e){return e<0||e>7?Promise.resolve({success:!1,error:"toggleFlag: flag must be an integer between 0 and 7."}):this.request("toggle-flag",{flag:e})}async request(e,t){return super.request(e,{id:this.id,data:t})}}class d extends u{constructor(e,t=null){super(e);s(this,"base","deck");s(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}getName(){return this.request("get-name")}isFiltered(){return this.request("is-filtered")}async request(e,t){return super.request(e,{id:this.id,data:t})}}class g extends u{constructor(e,t=null){super(e);s(this,"base","note");s(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.request("get-id")}bury(){return this.request("bury")}suspend(){return this.request("suspend")}getTags(){return this.request("get-tags")}setTags(e){return this.request("set-tags",e)}toggleMark(){return this.request("toggle-mark")}async request(e,t){return super.request(e,{id:this.id,data:t})}}class c extends u{constructor(){super(...arguments);s(this,"base","tts")}speak(e,t){return t!==0&&t!==-1?Promise.resolve({success:!1,error:"Invalid queue mode."}):this.request("speak",{text:e,queueMode:t})}setLanguage(e){return this.request("set-language",{locale:e})}setPitch(e){return this.request("set-pitch",{pitch:e})}setSpeechRate(e){return this.request("set-speech-rate",{speechRate:e})}isSpeaking(){return this.request("is-speaking")}stop(){return this.request("stop")}}class l extends u{constructor(){super(...arguments);s(this,"base","study-screen")}showSnackbar(e,t){return this.request("show-snackbar",{text:e,duration:t})}getNewCount(){return this.request("get-new-count")}getLearningCount(){return this.request("get-learning-count")}getToReviewCount(){return this.request("get-to-review-count")}showAnswer(){return this.request("show-answer")}isShowingAnswer(){return this.request("is-showing-answer")}getNextTime(e){return this.request("get-next-time",e)}openCardInfo(e){return this.request("open-card-info",e)}openNoteEditor(e){return this.request("open-note-editor",e)}search(e){return this.request("search",e)}setBackgroundColor(e){return this.request("set-background-color",e)}answer(e){return this.request("answer",e)}undo(){return this.request("undo")}}class q{constructor(r){s(this,"android");s(this,"card");s(this,"note");s(this,"deck");s(this,"studyScreen");s(this,"tts");this.contract=r,this.android=new o(this),this.card=new h(this),this.note=new g(this),this.deck=new d(this),this.studyScreen=new l(this),this.tts=new c(this)}getCard(r){return new h(this,r)}getNote(r){return new g(this,r)}getDeck(r){return new d(this,r)}async request(r,e){let t=e;t!=null&&(typeof t=="object"&&!Array.isArray(t)||(t={data:t}));const p=`/jsapi/${r}`;try{const a=await fetch(p,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:this.contract.version,developer:this.contract.developer,data:t})});if(!a.ok)throw new Error("Failed to make the request");const w=await a.text();return JSON.parse(w)}catch(a){throw console.error("Request error:",a),a}}}return n.Api=q,Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),n}({});
