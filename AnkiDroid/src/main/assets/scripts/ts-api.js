var AnkiDroidJs=function(u){"use strict";var w=Object.defineProperty;var y=(u,n,a)=>n in u?w(u,n,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[n]=a;var r=(u,n,a)=>y(u,typeof n!="symbol"?n+"":n,a);class n{constructor(s){this.handler=s}async handleRequest(s,e){return this.handler.request(`${this.base}/${s}`,e)}}class a extends n{constructor(){super(...arguments);r(this,"base","android")}isSystemInDarkMode(){return this.handleRequest("is-system-in-dark-mode")}isNetworkMetered(){return this.handleRequest("is-network-metered")}}class d extends n{constructor(e,t=null){super(e);r(this,"base","card");r(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.handleRequest("get-id")}getFlag(){return this.handleRequest("get-flag")}getReps(){return this.handleRequest("get-reps")}getInterval(){return this.handleRequest("get-interval")}getFactor(){return this.handleRequest("get-factor")}getMod(){return this.handleRequest("get-mod")}getNid(){return this.handleRequest("get-nid")}getType(){return this.handleRequest("get-type")}getDid(){return this.handleRequest("get-did")}getLeft(){return this.handleRequest("get-left")}getODid(){return this.handleRequest("get-o-did")}getODue(){return this.handleRequest("get-o-due")}getQueue(){return this.handleRequest("get-queue")}getLapses(){return this.handleRequest("get-lapses")}getDue(){return this.handleRequest("get-due")}isMarked(){return this.handleRequest("is-marked")}bury(){return this.handleRequest("bury")}suspend(){return this.handleRequest("suspend")}resetProgress(){return this.handleRequest("reset-progress")}toggleFlag(e){return e<0||e>7?Promise.resolve({success:!1,error:"toggleFlag: flag must be an integer between 0 and 7."}):this.handleRequest("toggle-flag",{flag:e})}async handleRequest(e,t){return super.handleRequest(e,{id:this.id,data:t})}}class l extends n{constructor(e,t=null){super(e);r(this,"base","deck");r(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.handleRequest("get-id")}getName(){return this.handleRequest("get-name")}isFiltered(){return this.handleRequest("is-filtered")}async handleRequest(e,t){return super.handleRequest(e,{id:this.id,data:t})}}class o extends n{constructor(e,t=null){super(e);r(this,"base","note");r(this,"id");this.id=t}getId(){return this.id!==null?Promise.resolve({success:!0,value:this.id}):this.handleRequest("get-id")}bury(){return this.handleRequest("bury")}suspend(){return this.handleRequest("suspend")}getTags(){return this.handleRequest("get-tags")}setTags(e){return this.handleRequest("set-tags",e)}toggleMark(){return this.handleRequest("toggle-mark")}async handleRequest(e,t){return super.handleRequest(e,{id:this.id,data:t})}}class g extends n{constructor(){super(...arguments);r(this,"base","tts")}speak(){return this.handleRequest("speak")}setLanguage(){return this.handleRequest("set-language")}setPitch(){return this.handleRequest("set-pitch")}setSpeechRate(){return this.handleRequest("set-speech-rate")}isSpeaking(){return this.handleRequest("is-speaking")}stop(){return this.handleRequest("stop")}}class c extends n{constructor(){super(...arguments);r(this,"base","study-screen")}showSnackbar(e,t){return this.handleRequest("show-snackbar",{text:e,duration:t})}getNewCount(){return this.handleRequest("get-new-count")}getLearningCount(){return this.handleRequest("get-learning-count")}getToReviewCount(){return this.handleRequest("get-to-review-count")}showAnswer(){return this.handleRequest("show-answer")}isShowingAnswer(){return this.handleRequest("is-showing-answer")}getNextTime(e){return this.handleRequest("get-next-time",e)}openCardInfo(e){return this.handleRequest("open-card-info",e)}openNoteEditor(e){return this.handleRequest("open-note-editor",e)}search(e){return this.handleRequest("search",e)}setBackgroundColor(e){return this.handleRequest("set-background-color",e)}answer(e){return this.handleRequest("answer",e)}undo(){return this.handleRequest("undo")}}class q{constructor(s){r(this,"android");r(this,"card");r(this,"note");r(this,"deck");r(this,"studyScreen");r(this,"tts");this.contract=s,this.android=new a(this),this.card=new d(this),this.note=new o(this),this.deck=new l(this),this.studyScreen=new c(this),this.tts=new g(this)}getCard(s){return new d(this,s)}getNote(s){return new o(this,s)}getDeck(s){return new l(this,s)}async request(s,e){let t=e;t!=null&&(typeof t=="object"&&!Array.isArray(t)||(t={data:t}));const R=`/jsapi/${s}`;try{const h=await fetch(R,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({version:this.contract.version,developer:this.contract.developer,data:t})});if(!h.ok)throw new Error("Failed to make the request");const p=await h.text();return JSON.parse(p)}catch(h){throw console.error("Request error:",h),h}}}return u.Api=q,Object.defineProperty(u,Symbol.toStringTag,{value:"Module"}),u}({});
